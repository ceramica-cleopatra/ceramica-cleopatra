PrimeFaces.widget.ChartExtensions={itemSelectHandler:function(b){var a={source:this.id,process:this.id,formId:this.cfg.id};if(this.cfg.update){a.update=this.cfg.update}if(this.cfg.oncomplete){a.oncomplete=this.cfg.oncomplete}var c={};c[this.id+"_ajaxItemSelect"]=true;c[this.id+"_itemIndex"]=b.index;c[this.id+"_seriesIndex"]=b.seriesIndex;PrimeFaces.ajax.AjaxRequest(this.cfg.url,a,c)},createLocalDataSource:function(c,b){var a=new YAHOO.util.DataSource(c);a.responseType=YAHOO.util.DataSource.TYPE_JSARRAY;a.responseSchema={fields:b};return a},setupAxises:function(b,a){this.cfg.xAxis=b;this.cfg.yAxis=a;if(this.cfg.minX){this.cfg.xAxis.minimum=this.cfg.minX}if(this.cfg.maxX){this.cfg.xAxis.maximum=this.cfg.maxX}if(this.cfg.minY){this.cfg.yAxis.minimum=this.cfg.minY}if(this.cfg.maxY){this.cfg.yAxis.maximum=this.cfg.maxY}if(this.cfg.titleX){this.cfg.xAxis.title=this.cfg.titleX}if(this.cfg.titleY){this.cfg.yAxis.title=this.cfg.titleY}if(this.cfg.labelFunctionX){this.cfg.xAxis.labelFunction=this.cfg.labelFunctionX}if(this.cfg.labelFunctionY){this.cfg.yAxis.labelFunction=this.cfg.labelFunctionY}},startDataPoll:function(){var a=this;this.dataPoll=setInterval(function(){a.update()},this.cfg.refreshInterval)},stopDataPoll:function(){clearInterval(this.dataPoll)},update:function(){var a=this,b={source:this.id,process:this.id,update:this.id,formId:this.cfg.formId,onsuccess:function(j){var g=j.documentElement,h=g.getElementsByTagName("update");for(var d=0;d<h.length;d++){var k=h[d].attributes.getNamedItem("id").nodeValue,e=h[d].firstChild.data;if(k==a.id){var f={results:jQuery.parseJSON(e).data};a._loadDataHandler(null,f)}else{PrimeFaces.ajax.AjaxUtils.updateElement(k,e)}}return false}};var c={};c[this.id+"_dataPoll"]=true;PrimeFaces.ajax.AjaxRequest(this.cfg.url,b,c)},init:function(){if(this.cfg.ajaxItemSelect){this.subscribe("itemClickEvent",this.itemSelectHandler,this,true)}if(this.cfg.live){this.startDataPoll()}}};PrimeFaces.widget.PieChart=function(c,b){this.id=c;this.cfg=b;var a=this.createLocalDataSource(this.cfg.data,[this.cfg.categoryField,this.cfg.dataField]);PrimeFaces.widget.PieChart.superclass.constructor.call(this,this.id,a,this.cfg);this.init()};PrimeFaces.widget.LineChart=function(c,b){this.id=c;this.cfg=b;var a=this.createLocalDataSource(this.cfg.data,this.cfg.fields);this.setupAxises(new YAHOO.widget.CategoryAxis(),new YAHOO.widget.NumericAxis());PrimeFaces.widget.LineChart.superclass.constructor.call(this,this.id,a,this.cfg);this.init()};PrimeFaces.widget.ColumnChart=function(c,b){this.id=c;this.cfg=b;var a=this.createLocalDataSource(this.cfg.data,this.cfg.fields);this.setupAxises(new YAHOO.widget.CategoryAxis(),new YAHOO.widget.NumericAxis());PrimeFaces.widget.ColumnChart.superclass.constructor.call(this,this.id,a,this.cfg);this.init()};PrimeFaces.widget.StackedColumnChart=function(d,b){this.id=d;this.cfg=b;var a=this.createLocalDataSource(this.cfg.data,this.cfg.fields);var c=new YAHOO.widget.NumericAxis();c.stackingEnabled=true;this.setupAxises(new YAHOO.widget.CategoryAxis(),c);PrimeFaces.widget.StackedColumnChart.superclass.constructor.call(this,this.id,a,this.cfg);this.init()};PrimeFaces.widget.BarChart=function(c,b){this.id=c;this.cfg=b;var a=this.createLocalDataSource(this.cfg.data,this.cfg.fields);this.setupAxises(new YAHOO.widget.NumericAxis(),new YAHOO.widget.CategoryAxis());PrimeFaces.widget.BarChart.superclass.constructor.call(this,this.id,a,this.cfg);this.init()};PrimeFaces.widget.StackedBarChart=function(d,b){this.id=d;this.cfg=b;var a=this.createLocalDataSource(this.cfg.data,this.cfg.fields);var c=new YAHOO.widget.NumericAxis();c.stackingEnabled=true;this.setupAxises(c,new YAHOO.widget.CategoryAxis());PrimeFaces.widget.StackedBarChart.superclass.constructor.call(this,this.id,a,this.cfg);this.init()};YAHOO.lang.extend(PrimeFaces.widget.PieChart,YAHOO.widget.PieChart,PrimeFaces.widget.ChartExtensions);YAHOO.lang.extend(PrimeFaces.widget.LineChart,YAHOO.widget.LineChart,PrimeFaces.widget.ChartExtensions);YAHOO.lang.extend(PrimeFaces.widget.ColumnChart,YAHOO.widget.ColumnChart,PrimeFaces.widget.ChartExtensions);YAHOO.lang.extend(PrimeFaces.widget.StackedColumnChart,YAHOO.widget.StackedColumnChart,PrimeFaces.widget.ChartExtensions);YAHOO.lang.extend(PrimeFaces.widget.BarChart,YAHOO.widget.BarChart,PrimeFaces.widget.ChartExtensions);YAHOO.lang.extend(PrimeFaces.widget.StackedBarChart,YAHOO.widget.StackedBarChart,PrimeFaces.widget.ChartExtensions);