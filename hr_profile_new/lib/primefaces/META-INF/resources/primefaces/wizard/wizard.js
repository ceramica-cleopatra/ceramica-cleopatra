PrimeFaces.widget.Wizard=function(c,a){this.id=c;this.cfg=a;this.jqId=PrimeFaces.escapeClientId(this.id);this.content=this.jqId+"_content";this.backNav=this.jqId+"_back";this.nextNav=this.jqId+"_next";this.currentStep=this.cfg.initialStep;var b=this.getStepIndex(this.currentStep);if(this.cfg.showStepStatus){this.stepControls=jQuery(this.jqId+" .ui-wizard-step-titles li.ui-wizard-step-title")}if(this.cfg.showNavBar){jQuery(this.backNav).button({icons:{primary:"ui-icon-arrowthick-1-w"}});jQuery(this.nextNav).button({icons:{primary:"ui-icon-arrowthick-1-e"}});jQuery(this.backNav).mouseout(function(){jQuery(this).removeClass("ui-state-focus")});jQuery(this.nextNav).mouseout(function(){jQuery(this).removeClass("ui-state-focus")});if(b==0){jQuery(this.backNav).hide()}else{if(b==this.cfg.steps.length-1){jQuery(this.nextNav).hide()}}}};PrimeFaces.widget.Wizard.prototype.back=function(){if(this.cfg.onback){this.cfg.onback.call(this)}var a=this.cfg.steps[this.getStepIndex(this.currentStep)-1];this.loadStep(a,true)};PrimeFaces.widget.Wizard.prototype.next=function(){if(this.cfg.onnext){this.cfg.onnext.call(this)}var a=this.cfg.steps[this.getStepIndex(this.currentStep)+1];this.loadStep(a,false)};PrimeFaces.widget.Wizard.prototype.loadStep=function(c,b){var a=this;var d={};d[this.id+"_wizardRequest"]=true;d[this.id+"_currentStep"]=this.currentStep;d[this.id+"_stepToGo"]=c;if(b){d[this.id+"_backRequest"]=true}PrimeFaces.ajax.AjaxRequest(this.cfg.url,{source:this.id,process:this.id,update:this.id,formId:this.cfg.formId,onsuccess:function(p){var r=p.documentElement,n=r.getElementsByTagName("update"),m=r.getElementsByTagName("extension");var l={};for(var g=0;g<m.length;g++){var o=m[g];if(o.getAttributeNode("primefacesCallbackParam")){var q=jQuery.parseJSON(o.firstChild.data);for(var h in q){if(h){l[h]=q[h]}}}}a.currentStep=l.currentStep;for(g=0;g<n.length;g++){var e=n[g].attributes.getNamedItem("id").nodeValue,k=n[g].firstChild.data;if(e==a.id){if(!l.validationFailed){if(a.cfg.effect){var j=k;jQuery(a.content).fadeOut(a.cfg.effectSpeed,function(){jQuery(a.content).html(j);jQuery(a.content).fadeIn()})}else{jQuery(a.content).html(k)}var f=a.getStepIndex(a.currentStep);if(a.cfg.showNavBar){if(f==a.cfg.steps.length-1){a.hideNextNav();a.showBackNav()}else{if(f==0){a.hideBackNav();a.showNextNav()}else{a.showBackNav();a.showNextNav()}}}if(a.cfg.showStepStatus){a.stepControls.removeClass("ui-state-hover");jQuery(a.stepControls.get(f)).addClass("ui-state-hover")}}else{jQuery(a.content).html(k)}}else{PrimeFaces.ajax.AjaxUtils.updateElement(e,k)}}return false},error:function(){alert("Error in loading dynamic tab content")}},d)};PrimeFaces.widget.Wizard.prototype.getStepIndex=function(b){for(var a=0;a<this.cfg.steps.length;a++){if(this.cfg.steps[a]==b){return a}}return -1};PrimeFaces.widget.Wizard.prototype.showNextNav=function(){jQuery(this.nextNav).fadeIn()};PrimeFaces.widget.Wizard.prototype.hideNextNav=function(){jQuery(this.nextNav).fadeOut()};PrimeFaces.widget.Wizard.prototype.showBackNav=function(){jQuery(this.backNav).fadeIn()};PrimeFaces.widget.Wizard.prototype.hideBackNav=function(){jQuery(this.backNav).fadeOut()};