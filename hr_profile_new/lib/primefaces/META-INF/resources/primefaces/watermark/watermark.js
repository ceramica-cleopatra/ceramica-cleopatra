(function(e){var c,j="watermark",g="watermarkClass",b="watermarkFocus",h="watermarkSubmit",d="watermarkMaxLength",f="watermarkPassword",m="watermarkText",a=":data("+j+")",i=":text,:password,:search,textarea",l=["Page_ClientValidate"],k=false;e.extend(e.expr[":"],{search:function(n){return"search"===(n.type||"")},data:function(o,n,q,s){var p,r=/^((?:[^=!^$*]|[!^$*](?!=))+)(?:([!^$*]?=)(.*))?$/.exec(q[3]);if(r){p=e(o).data(r[1]);if(p!==c){if(r[2]){p=""+p;switch(r[2]){case"=":return(p==r[3]);case"!=":return(p!=r[3]);case"^=":return(p.slice(0,r[3].length)==r[3]);case"$=":return(p.slice(-r[3].length)==r[3]);case"*=":return(p.indexOf(r[3])!==-1)}}return true}}return false}});e.watermark={version:"3.0.6",options:{className:"watermark",useNative:true},hide:function(n){e(n).filter(a).each(function(){e.watermark._hide(e(this))})},_hide:function(u,p){var q=u.val()||"",t=u.data(m)||"",o=u.data(d)||0,r=u.data(g);if((t.length)&&(q==t)){u.val("");if(u.data(f)){if((u.attr("type")||"")==="text"){var s=u.data(f)||[],n=u.parent()||[];if((s.length)&&(n.length)){n[0].removeChild(u[0]);n[0].appendChild(s[0]);u=s}}}if(o){u.attr("maxLength",o);u.removeData(d)}if(p){u.attr("autocomplete","off");window.setTimeout(function(){u.select()},1)}}r&&u.removeClass(r)},show:function(n){e(n).filter(a).each(function(){e.watermark._show(e(this))})},_show:function(u){var s=u.val()||"",r=u.data(m)||"",q=u.attr("type")||"",p=u.data(g);if(((s.length==0)||(s==r))&&(!u.data(b))){k=true;if(u.data(f)){if(q==="password"){var t=u.data(f)||[],o=u.parent()||[];if((t.length)&&(o.length)){o[0].removeChild(u[0]);o[0].appendChild(t[0]);u=t;u.attr("maxLength",r.length)}}}if((q==="text")||(q==="search")){var n=u.attr("maxLength")||0;if((n>0)&&(r.length>n)){u.data(d,n);u.attr("maxLength",r.length)}}p&&u.addClass(p);u.val(r)}else{e.watermark._hide(u)}},hideAll:function(){if(k){e.watermark.hide(i);k=false}},showAll:function(){e.watermark.show(i)}};e.fn.watermark=function(q,n){if(!this.length){return this}var p=false,o=(typeof(q)==="string");if(typeof(n)==="object"){p=(typeof(n.className)==="string");n=e.extend({},e.watermark.options,n)}else{if(typeof(n)==="string"){p=true;n=e.extend({},e.watermark.options,{className:n})}else{n=e.watermark.options}}if(typeof(n.useNative)!=="function"){n.useNative=n.useNative?function(){return true}:function(){return false}}return this.each(function(){var v=e(this);if(!v.is(i)){return}if(v.data(j)){if(o||p){e.watermark._hide(v);if(o){v.data(m,q)}if(p){v.data(g,n.className)}}}else{if(n.useNative.call(this,v)){if(((""+v.css("-webkit-appearance")).replace("undefined","")!=="")&&((v.attr("tagName")||"")!=="TEXTAREA")){if(o){v.attr("placeholder",q)}return}}v.data(m,o?q:"");v.data(g,n.className);v.data(j,1);if((v.attr("type")||"")==="password"){var r=v.wrap("<span>").parent(),u=e(r.html().replace(/type=["']?password["']?/i,'type="text"'));u.data(m,v.data(m));u.data(g,v.data(g));u.data(j,1);u.attr("maxLength",q.length);u.focus(function(){e.watermark._hide(u,true)}).bind("dragenter",function(){e.watermark._hide(u)}).bind("dragend",function(){window.setTimeout(function(){u.blur()},1)});v.blur(function(){e.watermark._show(v)}).bind("dragleave",function(){e.watermark._show(v)});u.data(f,v);v.data(f,u)}else{v.focus(function(){v.data(b,1);e.watermark._hide(v,true)}).blur(function(){v.data(b,0);e.watermark._show(v)}).bind("dragenter",function(){e.watermark._hide(v)}).bind("dragleave",function(){e.watermark._show(v)}).bind("dragend",function(){window.setTimeout(function(){e.watermark._show(v)},1)}).bind("drop",function(w){var x=w.originalEvent.dataTransfer.getData("Text");if(v.val().replace(x,"")===v.data(m)){v.val(x)}v.focus()})}if(this.form){var t=this.form,s=e(t);if(!s.data(h)){s.submit(e.watermark.hideAll);if(t.submit){s.data(h,t.submit);t.submit=(function(x,w){return function(){var y=w.data(h);e.watermark.hideAll();if(y.apply){y.apply(x,Array.prototype.slice.call(arguments))}else{y()}}})(t,s)}else{s.data(h,1);t.submit=(function(w){return function(){e.watermark.hideAll();delete w.submit;w.submit()}})(t)}}}}e.watermark._show(v)})};if(l.length){e(function(){var o,n,p;for(o=l.length-1;o>=0;o--){n=l[o];p=window[n];if(typeof(p)==="function"){window[n]=(function(q){return function(){e.watermark.hideAll();return q.apply(null,Array.prototype.slice.call(arguments))}})(p)}}})}})(jQuery);